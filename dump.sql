-- H2 2.3.232; 
;              
CREATE USER IF NOT EXISTS "SA" SALT '7fa8412c9352420a' HASH 'ed10a5770faac3bc6c5f57b4b9f833017db217f9de64f2295bbbe94cfdd1a00c' ADMIN;          
CREATE SEQUENCE "PUBLIC"."TRANSACTION_SEQ" START WITH 1 RESTART WITH 8;        
CREATE MEMORY TABLE "PUBLIC"."flyway_schema_history"(
    "installed_rank" INTEGER NOT NULL,
    "version" CHARACTER VARYING(50),
    "description" CHARACTER VARYING(200) NOT NULL,
    "type" CHARACTER VARYING(20) NOT NULL,
    "script" CHARACTER VARYING(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" CHARACTER VARYING(100) NOT NULL,
    "installed_on" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
);           
ALTER TABLE "PUBLIC"."flyway_schema_history" ADD CONSTRAINT "PUBLIC"."flyway_schema_history_pk" PRIMARY KEY("installed_rank"); 
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.flyway_schema_history;    
INSERT INTO "PUBLIC"."flyway_schema_history" VALUES
(-1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', TIMESTAMP '2025-03-31 00:53:57.77771', 0, TRUE),
(1, '01', 'seed data', 'SQL', 'V01__seed_data.sql', 589991191, 'SA', TIMESTAMP '2025-03-31 00:53:57.799727', 4, TRUE);   
CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history"("success" NULLS FIRST);
CREATE MEMORY TABLE "PUBLIC"."CUSTOMER"(
    "CUSTOMER_ID" INTEGER NOT NULL,
    "FIRST_NAME" CHARACTER VARYING(100) NOT NULL,
    "LAST_NAME" CHARACTER VARYING(100) NOT NULL,
    "EMAIL" CHARACTER VARYING(100) NOT NULL,
    "LOCATION" CHARACTER VARYING(100) NOT NULL
); 
ALTER TABLE "PUBLIC"."CUSTOMER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("CUSTOMER_ID");             
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.CUSTOMER; 
INSERT INTO "PUBLIC"."CUSTOMER" VALUES
(10001, 'Tony', 'Stark', 'tony.stark@gmail.com', 'Australia'),
(10002, 'Bruce', 'Banner', 'Bruce.Banner@gmail.com', 'US'),
(10003, 'Steve', 'Rogers', 'Steve.Rogers@gmail.com', 'Australia'),
(10004, 'Wanda', 'Maximoff', 'Wanda.Maximoff@gmail.com', 'US'),
(10005, 'Natasha', 'Romanoff', 'Natasha.Romanoff@gmail.com', 'Canada');   
CREATE MEMORY TABLE "PUBLIC"."PRODUCT"(
    "PRODUCT_CODE" CHARACTER VARYING(20) NOT NULL,
    "COST" INTEGER NOT NULL,
    "STATUS" CHARACTER VARYING(100) NOT NULL
);        
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("PRODUCT_CODE");             
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT;  
INSERT INTO "PUBLIC"."PRODUCT" VALUES
('PRODUCT_001', 50, 'Active'),
('PRODUCT_002', 100, 'Inactive'),
('PRODUCT_003', 200, 'Active'),
('PRODUCT_004', 10, 'Inactive'),
('PRODUCT_005', 50, 'Active');         
CREATE MEMORY TABLE "PUBLIC"."TRANSACTION"(
    "TRANSACTION_ID" INTEGER NOT NULL,
    "TRANSACTION_TIME" CHARACTER VARYING(50),
    "CUSTOMER_ID" CHARACTER VARYING(50),
    "QUANTITY" INTEGER NOT NULL,
    "COST" INTEGER NOT NULL,
    "PRODUCT_CODE" CHARACTER VARYING(50),
    "LOCATION" CHARACTER VARYING(100)
);     
ALTER TABLE "PUBLIC"."TRANSACTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("TRANSACTION_ID");       
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.TRANSACTION;              
INSERT INTO "PUBLIC"."TRANSACTION" VALUES
(1, NULL, '10002', 5, 250, 'PRODUCT_005', 'US'),
(2, NULL, '10002', 5, 250, 'PRODUCT_005', 'US'),
(3, NULL, '10002', 5, 250, 'PRODUCT_005', 'US'),
(4, NULL, '10002', 5, 250, 'PRODUCT_005', 'US'),
(5, NULL, '10002', 5, 250, 'PRODUCT_005', 'US'),
(6, NULL, '10002', 5, 250, 'PRODUCT_005', 'US'),
(7, NULL, '10002', 5, 250, 'PRODUCT_005', 'US');               
